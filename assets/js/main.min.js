const headerBurger=document.querySelector(".burger"),headerMenu=document.querySelector(".menu"),linkMobile=document.querySelectorAll(".header__wrapper-mobile_nav-inner_item-link"),linkMobileSubtitle=document.querySelectorAll(".header__wrapper-mobile_nav-inner_subtitle"),bgActive=document.querySelector(".bg-active"),body=document.body;if(headerBurger){const a=function(){headerBurger.isClick=!0,headerMenu.classList.toggle("active"),headerBurger.classList.toggle("active_menu"),body.classList.toggle("noscroll"),body.classList.toggle("bg"),bgActive.classList.toggle("index")};function closeOnClick(){headerMenu.classList.remove("active"),headerBurger.classList.remove("active_menu"),body.classList.remove("noscroll"),body.classList.remove("bg"),bgActive.classList.remove("index")}headerBurger.addEventListener("click",function(e){e.stopPropagation(),a()}),linkMobile.forEach(e=>{e.addEventListener("click",closeOnClick)}),linkMobileSubtitle.forEach(e=>{e.addEventListener("click",closeOnClick)}),document.addEventListener("click",function(e){var e=e.target,t=e==headerMenu||headerMenu.contains(e),e=e==headerBurger,o=headerMenu.classList.contains("active");t||e||!o||a()})}document.querySelectorAll(".events__swiper").forEach(e=>{new Swiper(e,{speed:600,spaceBetween:10,pagination:{el:e.querySelector(".events-pagination"),clickable:!0,type:"fraction"},navigation:{nextEl:e.querySelector(".events-next"),prevEl:e.querySelector(".events-prev")},loop:!0,breakpoints:{690:{pagination:{el:e.querySelector(".events-pagination"),clickable:!0,dynamicBullets:!0,type:"bullets"}}}})}),window.addEventListener("DOMContentLoaded",()=>{var e=(o,n,i,r)=>{let s;o=window.matchMedia(o);function e(){if(o.matches)return e=n,t=i,s=new Swiper(e,t),void(r&&r(s));var e,t;void 0!==s&&s.destroy(!0,!0)}o.addEventListener("change",e),e()};e("(max-width: 1230px)",".team__box-swiper",{loop:!0,spaceBetween:20,slidesPerView:1,speed:600,pagination:{el:".team-pagination",clickable:!0,type:"fraction"},navigation:{nextEl:".team-next",prevEl:".team-prev"},breakpoints:{890:{slidesPerView:3},690:{slidesPerView:2}}}),e("(max-width: 1230px)",".help__swiper",{allowTouchMove:!1,loop:!0,spaceBetween:20,autoHeight:!0,speed:600,pagination:{el:".help-pagination",clickable:!0,type:"fraction"},navigation:{nextEl:".help-next",prevEl:".help-prev"},breakpoints:{690:{autoHeight:!1,allowTouchMove:!0,slidesPerView:2}}}),e("(max-width: 955px)",".news__swiper",{slidesPerView:1,loop:!0,spaceBetween:20,speed:600,pagination:{el:".news-pagination",type:"fraction"},navigation:{nextEl:".news-next",prevEl:".news-prev"},breakpoints:{690:{slidesPerView:2}}}),e("(max-width: 1230px)",".upcoming__botoom-swiper",{slidesPerView:1,loop:!0,spaceBetween:0,speed:600,allowTouchMove:!1,pagination:{el:".upcoming__botoom-pagination",type:"fraction"},navigation:{nextEl:".upcoming__botoom-next",prevEl:".upcoming__botoom-prev"},breakpoints:{955:{slidesPerView:2,allowTouchMove:!0,spaceBetween:20}}}),e("(max-width: 690px)",".office__swiper",{slidesPerView:1,loop:!0,spaceBetween:10,speed:600,pagination:{el:".office-pagination",type:"fraction"},navigation:{nextEl:".office-next",prevEl:".office-prev"}})});const projectsAccordion=document.querySelector(".projects"),accordions=document.querySelectorAll(".accordion"),showMoreBtn=(projectsAccordion&&(document.addEventListener("DOMContentLoaded",()=>{const n=document.querySelectorAll(".accordion"),i=e=>{var t=e.querySelector(".accordion__content");e.classList.add("open"),t.style.maxHeight=t.scrollHeight+"px"},r=e=>{var t=e.querySelector(".accordion__content");e.classList.remove("open"),t.style.maxHeight=null};i(n[0]),n.forEach(e=>{var t=e.querySelector(".accordion__control");const o=e.querySelector(".accordion__content");t.onclick=()=>{(o.style.maxHeight?r:(n.forEach(e=>r(e)),i))(e)}})}),document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".accordion__control").forEach(e=>{e.addEventListener("click",()=>{setTimeout(()=>{window.scrollTo({top:e.getBoundingClientRect().top+window.pageYOffset,behavior:"smooth"})},800)})})})),document.querySelector(".projects__show")),projectsWrapper=document.querySelectorAll(".projects__wrapper").length,projectsLink=document.querySelector(".projects__link");let itemsProgect=10;function getLastVisibleDiv(){return Array.from(document.querySelectorAll(".projects__wrapper")).reverse().find(e=>null!==e.offsetParent)}showMoreBtn&&showMoreBtn.addEventListener("click",()=>{itemsProgect+=4;var e=Array.from(document.querySelector(".projects__list").children).slice(0,itemsProgect);e.forEach(e=>e.classList.add("is-visible")),e.length===projectsWrapper&&(showMoreBtn.style.display="none"),projectsLink.classList.add("active")});const photoElements=document.querySelectorAll(".values__content-slider_slide-flex_photo");let isVideoPlaying=!1,currentVideo=null;function pauseVideo(e){e.pause(),isVideoPlaying=!1}document.addEventListener("click",e=>{isVideoPlaying&&currentVideo&&(currentVideo.contains(e.target)||currentVideo.closest(".values__content-slider_slide-flex_photo").contains(e.target)||pauseVideo(currentVideo))}),photoElements.forEach(e=>{e.querySelectorAll(".values__content-slider_slide-flex_photo-video").forEach(t=>{e.addEventListener("click",()=>{e.classList.add("photo-none"),t.play(),isVideoPlaying=!0,currentVideo=t}),t.addEventListener("click",e=>{e.stopPropagation(),isVideoPlaying||(t.play(),isVideoPlaying=!0,currentVideo=t)})})}),document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".video__inner"),t=document.querySelector(".video");t.addEventListener("click",function(){t.classList.add("photo-none")}),t.addEventListener("click",function(){isVideoPlaying||(e.play(),isVideoPlaying=!0)})});const teamMinPhoto=document.querySelector(".team__box-slide_min_photo"),teamBigPhoto=document.querySelector(".team__box-slide_big_photo"),teamSlideMin=document.querySelector(".team__box-slide_min"),teamMinText=document.querySelector(".team__box-slide_min_photo-text"),teamBigText=document.querySelector(".team__box-slide_big_photo-text"),teamHover3=document.querySelector(".team__box-slide_hover-3"),teamHover4=document.querySelector(".team__box-slide_hover-4"),teamHover5=document.querySelector(".team__box-slide_hover-5");function addHover(){teamBigPhoto.classList.add("hover"),teamBigText.classList.add("hover")}function removeHover(){teamBigPhoto.classList.remove("hover"),teamBigText.classList.remove("hover")}teamMinPhoto&&1230<document.documentElement.clientWidth&&(teamMinPhoto.addEventListener("mouseover",()=>{teamSlideMin.classList.add("hover"),addHover()}),teamMinPhoto.addEventListener("mouseout",()=>{teamSlideMin.classList.remove("hover"),removeHover()}),teamHover3.addEventListener("mouseover",()=>{teamHover3.classList.add("hover"),addHover()}),teamHover3.addEventListener("mouseout",()=>{teamHover3.classList.remove("hover"),removeHover()}),teamHover4.addEventListener("mouseover",()=>{teamHover4.classList.add("hover"),addHover()}),teamHover4.addEventListener("mouseout",()=>{teamHover4.classList.remove("hover"),removeHover()}),teamHover5.addEventListener("mouseover",()=>{teamHover5.classList.add("hover"),addHover()}),teamHover5.addEventListener("mouseout",()=>{teamHover5.classList.remove("hover"),removeHover()}),document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".team__box-slide").forEach(e=>{e.addEventListener("mouseover",()=>{setTimeout(()=>{window.scrollTo({top:e.getBoundingClientRect().top+window.pageYOffset,behavior:"smooth"})},350)})})}));let input=document.querySelectorAll(".maskphone");input&&document.addEventListener("DOMContentLoaded",function(){function t(e){var t;let o=0,n=this.value.replace(/\D/g,"").replace(/^8/,"7");this.value="+_ (___) ___-__-__".replace(/./g,function(e){return/[_\d]/.test(e)&&o<n.length?n.charAt(o++):o>=n.length?"":e}),"blur"==e.type?2==this.value.length&&(this.value=""):(t=(e=this).value.length,e.focus(),e.setSelectionRange?e.setSelectionRange(t,t):e.createTextRange&&((e=e.createTextRange()).collapse(!0),e.moveEnd("character",t),e.moveStart("character",t),e.select()))}input.forEach(e=>{e.addEventListener("input",t),e.addEventListener("focus",t),e.addEventListener("blur",t)})});const swiperValues=new Swiper(".values__content-slider_swiper",{slidesPerView:1,loop:!0,speed:600,spaceBetween:20,autoHeight:!0,pagination:{el:".values-pagination",type:"fraction"},navigation:{nextEl:".values-next",prevEl:".values-prev"}}),swipersDate=document.querySelectorAll(".values__content-slider_swiper"),swiperMain=(swipersDate.forEach(e=>{const t=e.swiper;setInterval(()=>{t.update()},100)}),new Swiper(".main__wrapper-swiper",{loop:!0,autoplay:{delay:5e3},speed:700,pagination:{el:".main-pagination",clickable:!0,dynamicBullets:!0,dynamicMainBullets:1}}));if(document.documentElement.clientWidth<1230){const la=document.querySelectorAll(".accordionTwo");if(la){const ma=e=>{var t=e.querySelector(".accordion__contentTwo");e.classList.add("open"),t.style.maxHeight=t.scrollHeight+"px"},na=e=>{var t=e.querySelector(".accordion__contentTwo");e.classList.remove("open"),t.style.maxHeight=null};la.forEach(e=>{var t=e.querySelector(".accordion__controlTwo");const o=e.querySelector(".accordion__contentTwo");t.onclick=()=>{(o.style.maxHeight?na:(la.forEach(e=>na(e)),ma))(e)}}),la.forEach(t=>{const o=t.querySelector(".accordion__contentTwo");document.addEventListener("mouseup",function(e){o.contains(e.target)||na(t)})})}}if(window.addEventListener("scroll",()=>{document.querySelectorAll(".section").forEach(t=>{document.querySelectorAll(`.about-link[href="#${t.id}"]`).forEach(e=>{window.scrollY>=t.offsetTop&&window.scrollY<t.offsetTop+t.offsetHeight?e.classList.add("active"):e.classList.remove("active")})})}),document.documentElement.clientWidth<1230){let t=document.getElementsByClassName("news__swiper-slide_top");for(let e=0;e<t.length;e++)t[e].addEventListener("click",function(){removeSelected(this),this.classList.toggle("active")});function removeSelected(t){Array.prototype.forEach.call(document.querySelectorAll(".active"),function(e){e!=t&&e.classList.remove("active")})}}const gallerySwiper=new Swiper(".gallery__swiper",{loop:!0,slidesPerView:1,spaceBetween:20,speed:600,pagination:{el:".gallery-pagination",type:"fraction"},navigation:{nextEl:".gallery-next",prevEl:".gallery-prev"},breakpoints:{955:{slidesPerView:3},690:{slidesPerView:2}}}),showMore=document.querySelector(".btn-download"),cards=document.querySelectorAll(".opportunities__container-more").length;let items=10;function getLastVisibleDiv(){return Array.from(document.querySelectorAll(".opportunities__container-more")).reverse().find(e=>null!==e.offsetParent)}if(cards&&showMore.addEventListener("click",()=>{items+=4;var e=Array.from(document.querySelector(".opportunities__container").children).slice(0,items);e.forEach(e=>e.classList.add("is-visible")),e.length===cards&&(showMore.style.display="none")}),document.documentElement.clientWidth<690){const La=(e,t)=>e.substr(0,t)+"",Ma=(e,t)=>{var o,n=t.querySelector(".demo");t.dataset.text||(t.dataset.text=n.innerHTML),o=t.classList.contains("active")?t.dataset.text:La(t.dataset.text,t.offsetWidth/2.05),n.innerHTML=o,t.classList.toggle("active")},Na=document.querySelectorAll(".values__content-slider_swiper");document.querySelectorAll(".values__content-slider_slide-flex_text-mobile").forEach(t=>{var e=t.querySelector(".btns-open");Ma(null,t),e.addEventListener("click",e=>Ma(e,t))})}const passtEvensSwiper=new Swiper(".past-events__swiper",{slidesPerView:1,spaceBetween:0,loop:!0,speed:600,allowTouchMove:!1,pagination:{el:".past-events-pagination",type:"fraction"},navigation:{nextEl:".past-events-next",prevEl:".past-events-prev"},breakpoints:{1230:{slidesPerView:3,spaceBetween:20,allowTouchMove:!0},955:{slidesPerView:2,allowTouchMove:!0,spaceBetween:20}}}),eventsPastSwiper=new Swiper(".events-past-swiper",{slidesPerView:1,spaceBetween:0,loop:!0,speed:600,allowTouchMove:!1,pagination:{el:".events-past-pagination",type:"fraction"},navigation:{nextEl:".events-past-next",prevEl:".events-past-prev"},breakpoints:{1230:{slidesPerView:4,spaceBetween:20,allowTouchMove:!0},955:{slidesPerView:2,allowTouchMove:!0,spaceBetween:20}}}),trusteesSwiper=new Swiper(".trustees__swiper",{slidesPerView:1,spaceBetween:20,loop:!0,speed:600,pagination:{el:".trustees-pagination",type:"fraction"},navigation:{nextEl:".trustees-next",prevEl:".trustees-prev"},breakpoints:{1230:{slidesPerView:4,spaceBetween:20},955:{slidesPerView:3,spaceBetween:20},690:{slidesPerView:2,spaceBetween:20}}}),aboutProjectSwiper=(document.querySelectorAll(".slider-common_swiper").forEach(e=>{new Swiper(e,{slidesPerView:1,spaceBetween:20,loop:!0,speed:1200,autoHeight:!0,pagination:{el:e.querySelector(".slider-common-pagination"),type:"fraction"},navigation:{nextEl:e.querySelector(".slider-common-next"),prevEl:e.querySelector(".slider-common-prev")}})}),new Swiper(".about-project__swiper",{loop:!0,slidesPerView:1,spaceBetween:10,centeredSlides:!0,speed:1100,pagination:{el:".about-project-pagination",type:"fraction"},navigation:{nextEl:".about-project-next",prevEl:".about-project-prev"},breakpoints:{690:{slidesPerView:2,spaceBetween:20,centeredSlides:!1},955:{slidesPerView:3,spaceBetween:20}}})),swiper=new Swiper(".reviews__swiper",{loop:!0,slidesPerView:1,spaceBetween:10,speed:600,pagination:{el:".reviews-pagination",type:"fraction"},navigation:{nextEl:".reviews-next",prevEl:".reviews-prev"},breakpoints:{955:{slidesPerView:2,spaceBetween:20}}});if(document.querySelectorAll(".past__box-card_swiper").forEach(e=>{new Swiper(e,{speed:600,spaceBetween:20,pagination:{el:e.querySelector(".past__box-pagination"),clickable:!0,dynamicBullets:!0,type:"bullets"},navigation:{nextEl:e.querySelector(".past__box-next"),prevEl:e.querySelector(".past__box-prev")},loop:!0})}),document.querySelectorAll(".custom-select").forEach(o=>{const e=o.querySelector(".select-button"),n=o.querySelector(".selected-value");var t=o.querySelectorAll(".select-dropdown_inner-text");e.addEventListener("click",()=>{o.classList.toggle("active"),e.setAttribute("aria-expanded","true"===e.getAttribute("aria-expanded")?"false":"true")}),t.forEach(e=>{function t(e){"click"===e.type&&0!==e.clientX&&0!==e.clientY&&(n.textContent=this.children[1].textContent,o.classList.remove("active")),"Enter"===e.key&&(n.textContent=this.textContent,o.classList.remove("active"))}e.addEventListener("keyup",t),e.addEventListener("click",t)});for(const i of document.querySelectorAll(".custom__select-wrapper:not(.clearFilter)"))i.addEventListener("click",function(){this.querySelector(".custom__select").classList.toggle("active")});for(const r of document.querySelectorAll(".custom__option"))r.addEventListener("click",function(){this.classList.contains("selected")||(this.parentNode.querySelector(".custom__option.selected").classList.remove("selected"),this.classList.add("selected"),this.closest(".custom__select").querySelector(".custom__select-trigger h6").textContent=this.textContent,this.getAttribute("data-type")&&(current_story=this.dataset.type))});document.addEventListener("click",function(e){for(const t of document.querySelectorAll(".custom-select"))t.contains(e.target)||t.classList.remove("active")})}),document.querySelectorAll(".select-dropdown_inner").forEach(e=>{new SimpleBar(e)}),1230<document.documentElement.clientWidth){const l0=document.querySelector(".one-slide"),m0=document.querySelector(".two-slide"),n0=document.querySelector(".three-slide");l0&&(m0.addEventListener("mouseover",()=>{l0.classList.add("min-slide"),m0.classList.remove("min-slide")}),m0.addEventListener("mouseout",()=>{l0.classList.remove("min-slide"),m0.classList.add("min-slide")}),n0.addEventListener("mouseover",()=>{l0.classList.add("min-slide"),n0.classList.remove("min-slide")}),n0.addEventListener("mouseout",()=>{l0.classList.remove("min-slide"),n0.classList.add("min-slide")}))}const contaсts=document.querySelector(".contaсts");if(contaсts){let o=[55.7891170689432,37.60623549999999];function inits(){var e=new ymaps.Map("YMapsID-1",{center:o,zoom:15}),t=new ymaps.Placemark(o,{},{iconLayout:"default#image",iconImageHref:"assets/img/map-icon.svg",iconImageSize:[42,62],iconImageOffset:[20,-60]});e.controls.remove("geolocationControl"),e.controls.remove("searchControl"),e.controls.remove("trafficControl"),e.controls.remove("typeSelector"),e.controls.remove("fullscreenControl"),e.controls.remove("zoomControl"),e.controls.remove("rulerControl"),e.behaviors.disable(["scrollZoom"]),e.geoObjects.add(t),e.behaviors.disable("drag")}ymaps.ready(inits)}1230<document.documentElement.clientWidth&&!function(){function e(e){var t,o,n=Array.from(document.querySelectorAll(".history-container")).filter(function(e){return(e=(e=e).getBoundingClientRect()).top<=0&&e.bottom>document.documentElement.clientHeight})[0];n&&(t=n.offsetTop<document.documentElement.scrollTop,o=n.offsetTop+n.offsetHeight>document.documentElement.scrollTop,t)&&o&&(n.querySelector(".history-main").scrollLeft+=e.deltaY)}document.querySelectorAll(".history-container").forEach(function(e){var t=e.querySelector(".history-main").scrollWidth;e.setAttribute("style","height: "+t+"px")}),window.addEventListener("wheel",e)}();const historyBtn=document.querySelector(".history_btn"),historyMain=document.querySelector(".history-main"),mainBox=document.querySelector(".history-main_box-2020"),fileInput=(historyMain&&historyBtn.addEventListener("click",()=>{historyMain.classList.add("main-active"),historyBtn.classList.add("btn-active"),mainBox.classList.toggle("box-active")}),document.getElementById("fileInput")),fileDisplayArea=document.getElementById("fileDisplayArea"),fileInputLabel=document.getElementById("fileInputLabel"),popupLinks=(fileInput.addEventListener("change",function(){var e=fileInput.files;if(0<e.length){e=e[0];URL.createObjectURL(e);const i=document.createElement("div");i.classList.add("file-info");var t=document.createElement("span"),o=(t.textContent=e.name,document.createElement("span")),e=(o.textContent=`(${(e.size/1048576).toFixed(2)} МБ)`,o.classList.add("file-weight"),document.createElement("img")),n=(e.src="assets/img/pdf.svg",e.alt="PDF Icon",e.classList.add("file-img"),document.createElement("span"));n.classList.add("remove-button"),n.onclick=function(){fileInput.value="",fileDisplayArea.removeChild(i),fileInputLabel.style.display="flex"},i.appendChild(e),i.appendChild(t),i.appendChild(o),i.appendChild(n),fileDisplayArea.appendChild(i),fileInputLabel.style.display="none"}}),document.querySelectorAll(".popup-link")),lockPadding=document.querySelectorAll(".lock-padding");let unlock=!0;const timeout=300;if(0<popupLinks.length)for(let e=0;e<popupLinks.length;e++){const Q0=popupLinks[e];Q0.addEventListener("click",function(e){var t=Q0.getAttribute("href").replace("#","");popupOpen(document.getElementById(t)),e.preventDefault()})}const popupCloseIcon=document.querySelectorAll(".close-popup");if(0<popupCloseIcon.length)for(let e=0;e<popupCloseIcon.length;e++){const V0=popupCloseIcon[e];V0.addEventListener("click",function(e){popupClose(V0.closest(".popup")),e.preventDefault()})}function popupOpen(e){var t;e&&unlock&&((t=document.querySelector(".popup.open"))?popupClose(t,!1):bodyLock(),e.classList.add("open"),e.addEventListener("click",function(e){e.target.closest(".popup__content")||popupClose(e.target.closest(".popup"))}))}function popupClose(e,t=!0){unlock&&(e.classList.remove("open"),t)&&bodyUnlock()}function bodyLock(){var t=window.innerWidth-document.querySelector("body").offsetWidth+"px";for(let e=0;e<lockPadding.length;e++)lockPadding[e].style.paddingRight=t;body.style.paddingRight=t,body.classList.add("lock"),unlock=!1,setTimeout(function(){unlock=!0},timeout)}function bodyUnlock(){setTimeout(function(){for(let e=0;e<lockPadding.length;e++)lockPadding[e].style.paddingRight="0px";body.style.paddingRight="0px",body.classList.remove("lock")},timeout),unlock=!1,setTimeout(function(){unlock=!0},timeout)}document.addEventListener("keydown",function(e){27===e.which&&popupClose(document.querySelector(".popup.open"))}),document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelector(".popup-form__box-btn-blue"),o=document.querySelector(".popup-thanks"),e=document.querySelector(".popup-form"),n=document.body;function i(){o.classList.remove("open"),n.classList.remove("lock")}t.addEventListener("click",function(){o.classList.add("open"),e.classList.remove("open"),n.classList.add("lock")}),document.addEventListener("click",e=>{!o.classList.contains("open")||o.contains(e.target)||t.contains(e.target)||i()}),document.querySelectorAll(".popup__close").forEach(e=>{e.addEventListener("click",i)}),document.querySelector(".popup-thanks__box-btn").addEventListener("click",i)});